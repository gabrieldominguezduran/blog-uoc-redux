<div class="home-container">
  <h1>List All posts</h1>

  <mat-card *ngFor="let post of posts" class="mat-elevation-z4">
    <mat-card-header class="header-container">
      <div
        mat-card-avatar
        *ngFor="let category of post.categories"
        class="badge"
        [ngStyle]="{ 'background-color': category.css_color }"
      >
        {{ category.title }}
      </div>
      <mat-card-title>{{ post.title }}</mat-card-title>
    </mat-card-header>
    <img
      mat-card-image
      src="https://images.unsplash.com/photo-1432821596592-e2c18b78144f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8YmxvZ3xlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60https://material.angular.io/assets/img/examples/shiba2.jpg"
      alt="Photo of a typing maching"
    />
    <mat-card-content>
      <p>Description: {{ post.description }}</p>
      <p>Likes: {{ post.num_likes }}</p>
      <p>Dislikes: {{ post.num_dislikes }}</p>
      <p>Publication date: {{ post.publication_date | formatDate: 3 }}</p>
      <p>Published by: {{ post.userAlias }}</p>
    </mat-card-content>
    <div *ngIf="showButtons" class="badge-container">
      <mat-card-actions>
        <button
          mat-mini-fab
          color="primary"
          class="btn"
          (click)="like(post.postId)"
        >
          <mat-icon>thumb_up</mat-icon>
        </button>
        <button
          mat-mini-fab
          color="warn"
          class="btn"
          (click)="dislike(post.postId)"
        >
          <mat-icon>thumb_down</mat-icon>
        </button>
      </mat-card-actions>
    </div>
  </mat-card>
</div>
