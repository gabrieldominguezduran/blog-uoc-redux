<div class="home-container">
  <h1>List All posts</h1>

  <mat-card *ngFor="let post of posts" class="mat-elevation-z4">
    <mat-card-title class="title">{{ post.title }}</mat-card-title>
    <div class="badge-container">
      <mat-card-subtitle
        *ngFor="let category of post.categories"
        class="badge"
        [ngStyle]="{ 'background-color': category.css_color }"
        >{{ category.title }}</mat-card-subtitle
      >
    </div>
    <mat-card-content class="content">
      <p>Description: {{ post.description }}</p>
      <p>Likes: {{ post.num_likes }}</p>
      <p>Dislikes: {{ post.num_dislikes }}</p>
      <p>Publication date: {{ post.publication_date | formatDate: 3 }}</p>
      <p>Published by: {{ post.userAlias }}</p>
    </mat-card-content>
    <div *ngIf="showButtons" class="badge-container">
      <mat-card-actions>
        <button
          mat-mini-fab
          color="primary"
          class="btn"
          (click)="like(post.postId)"
        >
          <mat-icon>thumb_up</mat-icon>
        </button>
        <button
          mat-mini-fab
          color="warn"
          class="btn"
          (click)="dislike(post.postId)"
        >
          <mat-icon>thumb_down</mat-icon>
        </button>
      </mat-card-actions>
    </div>
  </mat-card>
</div>
